import requests
import sys
import os
import numpy as np
from tqdm import tqdm
baseUrl = 'http://www.tng-project.org/api/'
headers = {"api-key":"eba6365a63ff327c63d284349c914245"}
def get(path, params=None,savepath=None):
    # make HTTP GET request to path
    r = requests.get(path, params=params, headers=headers)

    # raise exception if response code is not HTTP SUCCESS (200)
    r.raise_for_status()

    if r.headers['content-type'] == 'application/json':
        return r.json() # parse json responses automatically
    if 'content-disposition' in r.headers:
         if savepath==None:
             savepath=''
         
         filename = savepath+r.headers['content-disposition'].split("filename=")[1]
         #print('writing to file',filename)
         with open(filename, 'wb') as f:
             f.write(r.content)
         return filename # return the filename string
    return r 

urllist = ["http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/288944/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/507204/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/734161/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/429792/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/713855/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/185229/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/680392/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/275183/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/167773/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/733649/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/713198/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/253704/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/713019/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/690382/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/724313/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/660691/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/700125/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/725361/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/693241/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/747660/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/613164/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/743873/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/377212/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/593195/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/717162/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/480953/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/313208/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/665876/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/44/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/253699/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/734602/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/612150/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/552979/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/705795/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/645042/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/288950/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/185228/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/644769/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/60/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/306971/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/705626/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/748912/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/734963/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/96/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/275164/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/210/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/65410/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/693386/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/707670/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/672897/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/667803/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/406126/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/687344/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/264/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/554416/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/689970/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/491655/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/198580/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/528559/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/701192/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/655360/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/426086/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/313196/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/79/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/532338/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/65406/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/606404/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/718110/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/805518/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/201/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/754586/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/690635/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/420541/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/420536/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/675540/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/167844/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/696235/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/431021/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/368316/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/101/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/426085/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/424665/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/144503/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/627957/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/329060/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/428401/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/724867/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/695446/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/319233/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/716885/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/97832/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/220/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/632916/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/329059/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/703400/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/222/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/690577/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/728597/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/118303/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/682055/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/788894/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/718495/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/731489/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/65329/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/681825/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/167764/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/675471/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/342129/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/167/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/167776/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/740922/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/220611/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/185246/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/118227/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/737572/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/544426/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/710915/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/355291/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/418623/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/683700/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/714869/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/760156/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/514519/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/118239/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/144508/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/722357/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/198582/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/743562/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/714251/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/743343/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/253718/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/85/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/703016/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/703068/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/754880/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/353/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/752476/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/474420/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/313211/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/198585/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/716125/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/769473/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/379670/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/620551/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/751915/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/715085/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/97829/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/503747/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/275184/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/666993/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/400217/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/208926/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/739196/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/65424/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/751968/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/372308/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/546763/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/679423/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/97837/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/749198/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/65382/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/410940/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/253708/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/689800/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/774340/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/658356/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/208933/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/573973/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/421735/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/710414/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/355300/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/144474/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/669752/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/478965/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/716077/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/428399/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/185275/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/488841/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/433350/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/103/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/672326/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/65445/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/808174/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/253719/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/659786/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/665259/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/713674/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/562588/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/220609/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/288948/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/647420/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/342114/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/698500/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/676912/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/156/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/674154/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/680493/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/323660/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/118216/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/646462/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/710152/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/118206/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/663128/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/836049/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/707507/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/637362/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/374665/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/208937/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/65321/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/729570/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/708001/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/294379/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/734404/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/732237/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/755333/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/691053/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/288960/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/698731/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/714286/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/65423/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/731371/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/716914/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/681038/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/710761/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/300384/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/733447/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/700195/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/711757/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/329066/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/342127/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/402309/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/319238/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/329050/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/755314/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/667228/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/345540/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/684053/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/701664/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/718249/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/755558/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/483899/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/728246/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/97838/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/791321/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/62/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/492744/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/319243/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/715476/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/648888/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/740721/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/647612/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/114/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/747830/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/727586/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/118257/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/144460/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/394149/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/65353/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/756280/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/726371/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/489584/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/696812/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/167755/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/702140/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/144465/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/731178/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/661326/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/118209/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/432255/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/760822/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/727327/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/477225/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/355282/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/588232/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/473066/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/167759/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/90/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/610882/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/702223/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/723138/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/670995/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/58/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/744686/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/687772/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/245/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/65336/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/753054/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/185235/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/735148/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/750973/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/423231/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/78/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/185230/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/65320/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/681638/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/643956/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/500826/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/658107/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/616119/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/688760/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/745266/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/464199/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/741861/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/717049/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/65371/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/65350/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/731463/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/713453/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/732515/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/737951/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/756797/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/653893/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/657374/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/107/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/144484/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/762905/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/97821/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/432256/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/264577/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/724360/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/699379/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/355290/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/743380/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/608404/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/633423/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/144494/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/294371/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/714789/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/233351/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/323646/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/777706/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/818757/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/118/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/264598/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/664248/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/97817/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/775992/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/764508/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/747447/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/777598/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/662987/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/655194/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/683039/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/145/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/220656/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/674022/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/706893/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/735595/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/345537/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/717373/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/749234/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/198593/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/398374/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/732391/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/745190/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/641314/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/697844/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/719662/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/601586/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/724652/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/775925/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/696503/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/355287/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/764367/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/418625/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/754017/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/690158/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/669877/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/762876/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/759471/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/694342/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/732123/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/598865/imanga.fits",
        "http://www.tng-project.org/api/TNG50-1/snapshots/98/subhalos/754231/imanga.fits"
    ]
sim='TNG50-1'
for url in tqdm(urllist):
    get(url,savepath=f'data/{sim}/iManga/')